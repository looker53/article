[toc]



## selenium



### selenium中如何判断元素是否存在？

方法一：使用 find_element ，如果元素存在，不会触发异常；如果元素不存在，会触发异常。

方法二：使用 find_elements， 该方法返回一个列表。 判断长度，如果列表长度等于0，则没有找到元素；如果列表长度大于0，则表示元素存在。





### selenium中隐藏的元素能定位吗？

隐藏的元素通常会使用 hidden 属性或者通过 css 控制 display ＝ none 等实现。这些元素在 selenium 中通常是不能直接定位的，只有当他们能在界面中可见时，才能被定位。





### selenium 如何提高点击事件的成功率

- 使用显性等待，等待某个元素被点击
- 使用 ActionChains 中的 click 方法或者原生 JS 的 click 语句代替 el.click 
- 元素没有被其他元素遮挡
- 确定是否点击元素中心位置
- 点击只能在 viewport 中，元素不可见时需要先将元素滚动到可视范围之内。



### 如何提高selenium 测试用例的执行效率？

- 尽量避免使用 sleep，使用隐性等待或者显性等待

- 对于firefox，考虑使用测试专用的profile，因为每次启动浏览器的时候firefox会创建1个新的profile，对于这个新的profile，所有的静态资源都是从服务器直接下载，而不是从缓存里加载，这就导致网络不好的时候用例运行速度特别慢的问题

- 使用更高配置的电脑和选择更快的网络环境

- 使用并发执行方式。

- 使用 selenium grid 调度多台执行节点

  

### 如何提高selenium 用例运行的稳定性？

- 尽量使用隐性和显性等待机制

- 注意元素定位表达式编写，避免使用绝对路径和多节点关系定位，减少索引使用，避免动态属性的使用

- 尽量避免用例之间相互关联

  



### 你的自动化用例的执行策略是什么？

- 每日执行：比如每天晚上在主干执行一次
- 周期执行：每隔2小时在开发分之执行一次
- 动态执行：每次代码有提交就执行



### UI 自动化测试需要做数据库校验吗？

取决于测试策略。如果产品不方便做接口测试，主要是通过大量的端对端测试运行，可以插入适量数据库断言。 但是如果有进行分层测试，更建议在服务端接口测试中进行数据库校验。



### id,name,class,xpath, css selector 这些属性，你最偏爱哪一种，为什么？

优先使用 css selector 定位，他本身功能足够强大，而且执行速度快，编写的表达式简单易懂， 在 selenium 的实现中，其实 id, name，class 这些方式都使用的 CSS Selector 的定位方式。 对于部分很复杂的定位，可以用 xpath 补足。





### selenium的原理是什么？

selenium 涉及到三个组件的通讯，分别是

- 浏览器
- webdriver 
- client 

client 负责通过对应的编程语言函数发送请求给 webdriver

client其实并不知道浏览器是怎么工作的，但是driver知道，在selenium启动以后，driver其实充当了服务器的角色，跟client和浏览器通信，client根据webdriver协议发送请求给driver，driver解析请求，并在浏览器上执行相应的操作，并把执行结果返回给client。这就是selenium工作的大致原理。





### webdriver的协议是什么？

client与driver之间的约定，无论client是使用java实现还是c#实现，只要通过这个约定，client就可以准确的告诉drier它要做什么以及怎么做。



webdriver协议本身是http协议，数据传输使用json。

这里有webdriver协议的所有endpoint，稍微看一眼就知道这些endpoints涵盖了selenium的所有功能。





### 启动浏览器的时候用到的是哪个webdriver协议？

New Session，如果创建成功，返回sessionId和capabilities。





### 什么是page object设计模式？

简单来说就是用class去表示被测页面。在class中定义页面上的元素和一些该页面上专属的方法。







## APP 自动化测试

### Android APP 内存不足时， 系统如何结束进程获得内存？

系统优先结束被挂起（暂停）的进程，释放内存



### APP 测试常见的严重问题有哪些？分别引起的原因有哪些？

常见的有 crash、ANR（应用无响应、卡死），一般由设备碎片化、网络波动大、内存泄漏、代码编写错误



### 请简单介绍你曾使用过的一款 APP 自动化测试工具 ？

开放性问题，带点主观意见

1.对比其他熟悉的自动化工具的优缺点

2.自动化的简要方案（简要的同时关键内容请具体）。（提示：appnium 等）



### Android 测试与 web 测试有什么区别？

相同点：

1.设计测试用例均依据等价类、边界值等方法，测试原理相同；

2.大多数都采用黑盒测试方法来验证业务功能；

3.需要检查界面布局、风格和按钮是否美观、统一等（UI测试）；

4.测试页面载入和翻页的速度、登录时长是否溢出等问题（性能测试）

5.测试应用系统的稳定性；

不同点：

1.手机作为通信工具，通信等一些行为会对APP产生(中断测试)

2.手机用户对app 产品的安装卸载操作：从上一版本/上两个版本直接升级到最新版本（安装卸载测试）；

3.web自动化测试使用的工具较常用的是selenium,而android手机自动化测试比较常用的自动化工具是monkey、monkeyrunner、Appium（测试工具不一样）



### app 测试有哪几种环境？

本地环境：app 安装的手机环境和电脑搭建的自动化测试环境（比如安卓 SDK 等等）。



服务器环境：war 包部署的服务器， 服务器可以通过浏览器访问， 也可以通过 app 去访问。（访问的是 web 程序的接口）



### 简单介绍一下 Android SDK 的安装步骤：

下载 jdk 和安卓 sdk

安装 jdk， 配置环境变量（java_home、 classpath、 path）



### 请简要介绍一下移动应用及其服务端的测试点？

移动应用主要有权限、安装运行卸载、UI、功能、性能、中断、兼容性、安全性、回归、升级更新、用户体验。（app的11 大测试点）

服务端有接口测试、性能测试、安全测试。



### 如何判断 app 的 bug 是客户端问题还是后台问题

这个要根据业务来，一般数据的问题前端的问题多些，一般做法是有问题提给前端开发， 他们知道是他们自己的问题还是后台返回的数据问题。



### 安卓中如何取出日志信息？

把安卓系统日志信息实时导入到本地：adb logcat -v time > d:\mylog.log



运行使用某个 app，实时获取该 app 的日志信息（cmd 里面的返回信息） ：

adb shell monkey -p com.android.calendar -v 1000 > d:\mylog2.log



### 常见的 adb 命令：

查看当前连接的设备：adb devices



安装软件：adb install 路径\xx.apk



卸载软件：adb uninstall <包名>



从电脑上发送文件到设备：adb push <本地路径> <远程路径>

adb push C:\test1.txt /sdcard/



从设备上下载文件到电脑：adb pull <远程路径> <本地路径>

adb pull /sdcard/test1.txt D:



实时获取日志：adb logcat -v time > D:\mylog.log



登录终端设备 shell：adb shell



查找包名/活动名：adb logcat | findstr START

（脚本中， cmp= 后面的值就是 包名/activity 名称）



启动 APP 启动

adb shell am start -n packageName/activity



关闭 app

语法：adb shell am force-stop 包名



监控 APP 启动时间

adb shell am start -W packageName/activity



Monkey 命令：

adb shell monkey -v -p mypackage 50



### APP 这么多主流机型如何测试 ？

我们公司就买了， 魅族， 华为， 小米， iphone7、 iphone8 、 iphone8plus 、 iphone x 测试兼容性，有些没有的机型，先借用同事的手机进行测试，同时申请公司购买，或者采用云真机。



### App 崩溃（闪退），可能是什么原因导致的？

缓存垃圾过多：由于安卓系统的特性,如果长时间不清理垃圾文件.会导致越来越卡.也会出现闪退情况.

运行的程序过多,导致内存不足

应用版本兼容问题：如果应用版本太低，会导致不兼容，造成闪退。此外，有些新版本在调试中，也会

造成应用闪退。解决方法：如果是版本太旧，更新为新版本即可；如果是新版本闪退，可能是应用在改版调

试，可卸载后安装旧版。

检查 APP 中访问网络的地方，组件中的 ImageView 是否可以正常的下载并显示到 app 页面上。

检查 APP 的 sdk 和手机的系统是否兼容。

在一些特定情况下的闪退,比如播放视频,在 Android5.0 升级到 Android6.0 的时候,有些系统 API 老版本

有,新版本没有,到时回去对象的时候失败,报空,系统就会出现闪退



### Appium 都有哪些启动方式

1.客户端启动

2.命令行启动



### 请简单介绍一下使用过的安卓UI自动化测试工具？

参考答案：appium：是一个移动端的自动化框架，可用于测试原生应用，移动网页应用和混合型应用，且是跨平台的。robotium：是一款国外的Android自动化测试框架，主要针对Android平台的应用进行黑盒自动化测试，它提供了模拟各种手势操作（点击、长按、滑动等）、查找和断言机制的API，能够对各种控件进行操作。



### 请说明Android手机和IOS手机，系统有什么区别？

两者运行机制不同：IOS采用的是沙盒运行机制，安卓采用的是虚拟机运行机制。



两者后台制度不同：IOS中任何第三方程序都不能在后台运行；安卓中任何程序都能在后台运行，直到没有内存才会关闭。



IOS中用于UI指令权限最高，安卓中数据处理指令权限最高。



## 服务端自动化测试



### 按你的理解，软件接口是什么？

答：

就是指程序中具体负责在不同模块之间传输或接受数据的并做处理的类或者函数。



### HTTP和HTTPS协议区别？

答：

https协议需要到CA（Certificate Authority，证书颁发机构）申请证书，一般免费证书较少，因而需要一定费用；

http是超文本传输协议，信息是明文传输，Https协议是由SSL+Http协议构建的可进行加密传输、身份认证的网络协议，比http协议安全；

http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443；



### HTTPS在哪一层？

以前我面试很喜欢提网络协议的问题，有朋友说我装X，不实用。稍有点研究网络知识，实际就不难回答

答：HTTPS在应用层。



### get和post区别是什么？

答：POST和GET都是向服务器提交数据，并且都会从服务器获取数据。

区别：

1）传送方式：get通过地址栏传输，post通过报文传输

2）传送长度：get参数有长度限制（受限于url长度），而post无限制

3）GET产生一个TCP数据包（对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200返回数据），POST产生两个TCP数据包（对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok返回数据）

4）get请求参数会被完整保留在浏览历史记录里，而post中的参数不会被保留

5）在做数据查询时，建议用GET方式；而在做数据添加、修改或删除时，建议用post方式



### 常见的POST提交数据方式

答：

主要有四种方式：application/x-www-form-urlencoded、multipart/form-data、application/json、text/xML等。



### 什么是Http协议无状态协议?怎么解决HTTP协议无状态协议

答：

无状态是指协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。即我们给服务器发送 HTTP 请求之后，服务器根据请求，会给我们发送数据过来，但是，发送完，不会记录任何信息。HTTP 是一个无状态协议，这意味着每个请求都是独立的，Keep-Alive 没能改变这个结果。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。HTTP 协议这种特性有优点也有缺点，优点在于解放了服务器，每一次请求“点到为止”不会造成不必要连接占用，缺点在于每次请求会传输大量重复的内容信息。客户端与服务器进行动态交互的 Web 应用程序出现之后，HTTP 无状态的特性严重阻碍了这些应用程序的实现，毕竟交互是需要承前启后的，简单的购物车程序也要知道用户到底在之前选择了什么商品。于是，两种用于保持 HTTP 连接状态的技术就应运而生了，一个是 Cookie，而另一个则是 Session。



### cookie和session的区别

答：

cookie数据存放在客户的浏览器上，session数据放在服务器上

cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗，考虑到安全应当使用session

session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，考虑到减轻服务器性能方面应当使用cookie

单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie

可以将登陆信息等重要信息存放为session；其他信息需要保存，可以放在cookie



### 什么是DNS？

答：DNS 是域名系统 (Domain Name System)，DNS是用来做域名解析的,它会在你上网输入网址后，把它转换成IP，然后去访问对方服务器；没有它，你想上百度就要记住百度的IP，但有了DNS的处理，你只需要记住对应网站的域名，即网址就可以了。



### 请问你们公司是如何做接口测试的？

答：

接口测试实际跟一般测试不同就是测试用例的设计部分。

①获取接口规范。

②设计接口测试功能用例（主要从用户角度出发看接口能否实现业务需求，用例设计就是黑盒用例那一套）。

③各种入参验证（正常情况，异常情况包括输入参数个数不对，类型不对，可选/必选，还有考虑参数有互斥或关联的情况）。

④接口返回值各种验证（符合接口文档需求）

⑤了解接口实现逻辑，实现逻辑覆盖（语句/条件/分支/判定/…）

⑥接口能并发执行吗、安全吗，性能满足要求吗?

⑦采用工具或者自写代码来验证。

⑧发现问题跟功能测试一样，该报bug报bug，该跟踪状态的跟踪状态。



### 怎么设计接口测试用例？

答：

通常，设计接口测试用例需要考虑以下几个方面：

①是否满足前提条件

有些接口需要满足前提，才可成功获取数据。常见的，需要登录Token

逆向用例：针对是否满足前置条件（假设为n个条件），设计0~n条用例

②是否携带默认值参数

正向用例：带默认值的参数都不填写、不传参，必填参数都填写正确且存在的“常规”值，其他不填写，设计1条用例

③业务规则、功能需求

这里根据时间情况，结合接口参数说明，可能需要设计N条正向用例和逆向用例

④参数是否必填

逆向用例：针对每个必填参数，都设计1条参数值为空的逆向用例

⑤参数之间是否存在关联

有些参数彼此之间存在相互制约的关系

⑥参数数据类型限制

逆向用例：针对每个参数都设计1条参数值类型不符的逆向用例

⑦参数数据类型自身的数据范围值限制

正向用例：针对所有参数，设计1条每个参数的参数值在数据范围内为最大值的正向用例



### 平常用什么工具测接口的？

答：常用http协议接口测试工具，如：postman、fiddler、jmeter；webService接口用SoapUI、jmeter等。



### 没有接口文档，如果做接口测试？

本题主要考情商，通俗来说就是忽悠能力，先唬住面试官了再说，进去了也是瞎测测，随时做好背锅的准备，当然，你肯定不能回答面试官不测(心理mmp，脸上笑嘻嘻)，接下来就是扯犊子时间

答：用抓包工具把接口抓取处理，然后针对性进行测试；接口中字段信息不清楚的，找时间集中寻求开发解答。（常用抓包工具Fiddler、Charles等）



### 在手工接口测试或者自动化接口测试的过程中，上下游接口有数据依赖如何处理？

答：用一个全局变量来处理依赖的数据，比如登录后返回token，其它接口都需要这个token，那就用全局变量来传token参数。



### 依赖于第三方数据的接口如何进行测试？

答：mock

接着面试官会问你，如果mock的，然后你就顺着坑继续挖，搭建mock服务，参考这篇http://www.51ste.com/share/det-485.htML



### 接口测试中，依赖登录状态的接口如何测试？

答：依赖登录状态的接口的本质上是在每次发送请求时需要带上session或者cookie才能发送成功，在构建POST请求时添加必要的session或者cookie



### 如何模拟弱网做测试？

答：Fiddler和charles都可以模拟弱网测试，平常说的模拟丢包，也是模拟弱网测试。具体可以看《几种弱网模拟方法，总有一种适合你》



### 你平常做接口测试的过程中发现过哪些bug?

面试官出这个题，主要是想知道你是不是真的做过接口测试，毕竟现在很多小伙伴简历经过包装（不包装连面试机会都没有，没办法，为了生存，能理解）

答：

常规错误，接口没实现，没按约定返回结果，边界值处理出错等。

输入异常值（空值、特殊字符、超过约定长度等），接口抛错，没做封装处理；

输入错误的参数、多输入、少输入参数，接口可能出现的错误；

安全性问题，如明文传输、返回结果含有敏感信息，没对用户身份信息做校验，没做恶意请求拦截等；

性能问题，如接口并发插入多条相同操作，响应时间过长，接口压测出现瓶颈等；



### 当一个接口出现异常时候，你是如何分析异常的？

答：

先抓包，用fiddler（charles）工具抓包，或者浏览器上F12调试工具；APP上的话，那就用Fiddler做代理，通过手机设置代理去看请求和返回报文；

查看后端日志，如Linux系统通过xhell连上服务器，查看接口日志，查看是否有报错信息（命令：tail -f 日志文件）；



### 如何分析一个bug是前端还是后端的？

答：

平常提bug的时候，前端开发和后端开发总是扯皮，不承认是对方的bug。

这种情况很容易判断，先抓包看请求报文，对着接口文档，看请求报文有没问题，有问题就是前端发的数据不对；

请求报文没问题，那就看返回报文，返回的数据不对，那就是后端开发的问题咯。



### 你们做接口测试自动化吗？

答：现在针对大量应用，普遍推崇做接口测试自动化，维护成本低、收益高。常用的工具有许多，如Jmeter、Robot Framework、pytest等。



### 列出几个JMeter监听器？

一些JMeter监听器是：

集合报告

汇总报告

查看结果树

用表格查看结果

图形结果

BeanShell Listener

摘要报告等



### 在python中进行数据驱动测试

在unittest中，没有自带的数据驱动，我们得借助ddt来实现，首先，我们得在python运行环境中安装ddt，用下列命令安装

pip install ddt

另外一个测试框架pytest，它自带数据驱动实现，是通过@pytest.mark.parametrize(argnames,argvalues) 来实现参数化的。

也可以根据自己需求用python实现数据的读取和驱动。



### 接口自动化中的关联怎么处理？

把上一个请求返回的结果传入到下一个请求的参数中，将请求的结果反射到一个类属性（使用setattr（）函数），下一个请求去调用这个类属性



### 自动化测试怎么校验结果？

断言 ，预期结果与实际结果对比

数据库校验，根据测试场景来查询数据库里的数据和请求之前的数据进行比对



### 自动化使用的测试框架是什么？简述自动化框架的设计、维护

测试框架：python+unittest+requests+ddt+openpyxl+pymysql+logging

python：入门简单，语法简洁

unittest ：定义一个测试用例类，具体的方法来维护测试用例的生命周期，测试场景行为，测试用例 前置场景，行为，期望结果，实际结果，断言方法，Setup teardown方法

requests：接口调用 ，支持http请求的库，API 简洁，提供不同的http请求方法，支持session，cookies，

ddt ：数据驱动，ddt 类装饰器，data 测试方法装饰器 unpack解包可迭代的数据类型

普通用户，数据库，配置文件—（基础数据）

openpyxl：数据管理 excel管理数据，使用openpyxl模块来进行excel数据的读和写（excle，csv, json, yaML, txt都可以管理测试数据）

pymysql：数据库交互，数据校验

eval，json：数据格式的转换 Eval将python支持的格式转换成对应的格式

logging：日志处理， 统一日志输出格式，渠道，级别，执行结果的记录，便于定位问题

jenkins：持续集成

2/框架设计思路：数据驱动+结构分层（可读性，可维护性，可扩展性）

数据驱动：将维护数据与代码分离，接口调用行为一致，针对不同的参数组合驱动不同的测试场景，减少代码冗余

结构分层：数据层+用例层+逻辑层

数据层：测试数据的支撑 data.xls

用例层：用例的执行 test_register.py test_recharge.py

逻辑层：公用的方法的封装与提取 doexcle.py do_mysql.py http_requests.py logger.py等模块

3/框架设计步骤：

准备测试数据：EXCEL表准备测试用例—excel数据的读取—参数值的替换

发起请求：请求方法（get/post方法进行封装—URL的拼接（不同—参数转化为字典

拿到请求的返回值：解析返回值code，status，msg信息

断言

好处：

1、自动化测试用例和手工测试用例的完美结合，减少重复工作

2、配置灵活，可以自主切换测试环境，执行测试用例

3、常用功能进行封装，逻辑清晰，易于维护

4、统一执行入口，管理测试用例集：

run.py模块通过模糊查找来选择需要执行的测试用例

5、持续集成，定时构建，快速反馈



### 具体的在这个项目中自动化怎么应用到实际的，您对自动化结果的分析

完成所有的自动化测试框架的设计和实现后，进行接口测试，然后集成到

jenkins，配置定时执行，生成htML报表，查看测试通过率，查看接口的功能

每次发版时，进行回归测试，新功能开发未提测前





## Python



### 什么是魔法函数？

魔法函数，像“__init__”这样的构造函数就是魔法函数，平时也经常用。魔法函数的作用是给类增加一些额外的功能，这道题目是一道理论题，大家可以自行百度。

### 什么是闭包？

闭包，通俗点讲就是内部函数调用了外部函数的变量，这样就形成了一个闭包。需要对函数作用域和函数生命周期有所了解，例如，我们不能直接调用内部函数，外部函数如果不创建，直接调用内部函数会抛错。如何解决闭包的问题呢？如果是变量，那么通过global把变量设定为全局变量，如果是函数，我们可以return。

### 深拷贝和浅拷贝的区别，并举例说明。

这题考到python里面数据存储概念，我们声明赋值变量a=123，然后输出id(a)会打印一串数字，这串数字就是变量a在内存的存储位置。这个时候，如果在来一个b=123，输出id(b)，打印出来的结果和id(a)是一样的，如果a变了，b也跟着一起变，这个就是浅拷贝；反过来，深拷贝就是两个对象内容数据相同，但是在内存的位置不一样，Python里面的copy函数方法，就是深拷贝。

### 如何在一个函数内部修改全局变量

这一题在上面第二题，谈闭包问题的解决办法有提到，用global关键词就可以实现。

### 什么是单例模式？

单例模式是设计模式的一种，Python中，通过__new__方法创建对象，再通过__init__方法创建内存空间，单例模式要求，类创建的对象，在内存中只有唯一的一个实例，且每次实例化生成的对象，内存空间地址都是相同的。举个例子，系统给打印机发送打印多个文件指令，打印机最多只能同时打印一个文件，多个文件只能多次打印。

### python中如何实现多线程？

线程分为内核级线程和用户级线程，而python因为无法访问内核内存空间，只能依赖生成器、greenlets和类似的库实现用户级线程，Python中多线程一般用threading模块实现多线程。

### Flask和Diango的区别有哪些？

Flask和Diango的区别，类似于java编辑器eclipse和myeclipse。Diango自身已经集成了很多的方法和类库，所以很重，相对Flask灵活度和自由度不够高；Flask是轻量级框架，更多的需要开发者按照自己的需要去扩展，两者的生态都很丰富，但是性能方面，Flask较Diango要好一些。

### pytest框架里断言有哪些类型？

Pytest是unittest的升级，较unittest断言语法要更简洁一些，pytest的扩展库pytest-assume支持多重断言。一般用到的断言有状态码断言，响应时长断言，返回内容解析对比断言，数据库查询对比断言。

### is和==有什么区别？

Is,比较的是两个对象是否指向同一个内存地址，也就是两个对象是否为同一个实例对象；==比较的是两个对象内容和数据类型是否一样，默认调用对象的__eq__()方法

### 装饰器有什么作用？

装饰器是给某个函数（类）增加一些功能，但不影响函数（类）自身的函数或类。装饰器有很多种，可以分为类装饰器和函数装饰器两大类，能够帮助我们简化代码和方便维护。

### 手写一个装饰器。

装饰器种类有很多，并没有制定装饰器类型，就随便写一个吧，这里就不贴代码了。

### 写一个函数，实现随机一个数组，长度和元素不固定，输出任意两个元素相加结果为N的方法

分析：N为固定值，可以从数组中循环取出一个数a，然后用N-a得到第二个匹配元素b，最后查找b是否在剩下的数组元素里面；用lambda表达式，应该也可以实现。

### 给定一个字符串，判断其是否合法。

说明：字符串内包含“(,),{,},[,]"对象，随机位置，检查同类型括号的对称情况，如果存在左右对称括号中间只有单独一个括号的字符串，即为不合法（Ps:需要左右括号匹配类型也一致才算合法）

分析：首先过滤掉字符串其他元素，保留“(){}[]”元素对象，并且位置顺序不变。然后通过从左往右的顺序找到最后一个左括号（也可以从右往左，找最后一个右括号），然后继续往右进行逐一匹配右括号，遇到一个不匹配的即为不合法。我回答的不是这个版本，我忽略了顺序，这里运用到堆栈概念。

### 一个数组内有随机的10整数，随机取三个元素，他们的和为0，写个方法函数，返回所有的组合情况，要去除重复的组合内容

分析：和第二题类似，增加了一个元素求和，需要输出组合情况，并去重。我们可以用加法或者用减法进行倒推，三层循环，每层取出一个元素并去掉已取出的元素，然后拿符合条件的三个元素组成一个数组，排序，检查一下是否已加入结果数组，未加入再append，然后把结果return。下面是用减法的示例：

### 写一个函数方法，输入两个日期(yyyymmdd)，输出两个日期相差多少天。

分析：这个比较简单，使用python的datetime模块即可。

### 随机一个数组，求其中两个元素乘积最大的组合。

分析，既然需要求最大乘积组合，找到数组里面最大的两个元素相乘就可以了。

## 其它

### 常用的中间件有哪些？如何测试它们？

中间件是一种独立的系统软件或服务程序，作用是为处于自己上层的应用软件提供运行与开发的环境，帮助用户灵活、高效地开发和集成复杂的应用软件。常见的中间件有mq[消息队列](https://cloud.tencent.com/product/cmq?from=10680)，xxl-job任务调度中心，阿波罗配置中心，Redis等。对于中间件这块，我没有做一些专项测试工作，除了按照业务功能需求去设计一些边界值，等价类之类的测试方法外，做过一些简单的压力和疲劳测试。需要注意一点，定时任务调度中心和关联任务的服务所在服务器时间要保持一致。

### 集群和分布式有什么区别？

通常来讲，集群内的服务，提供的功能都是一样的；而分布式里面，每个服务提供的功能可能不一样。集群强调集群内服务器位置集中，方便统一管理；分布式不要求位置，只要网络连通即可。集群是一种物理形态，分布式是一种工作方式。（回答的时候，只说了第一点，没有这么完整）

### 幂等实现原理是什么？

这一题切入点是问我，支付的时候，怎么保证不会重复支付一笔订单。我回答通过幂等实现，然后面试官追问我，怎么样实现幂等，它的原理是什么？很可惜，这后面的我就答不上来了，查了资料明白，防重复支付有几种办法，第一种，把下单和支付放在一个事务里面处理，要么全成功，要么全失败；第二种，就是幂等，幂等实现办法有好几种，token机制，悲观锁，乐观锁，分布式锁，状态机幂等。关于token机制，采用 Token+Redis（Redis 是单线程的，处理需要排队）的解决方案。处理的流程是，在数据提交前要向服务器申请带有有效时间的 Token，然后 Token 放到 Redis 或 JVM 内存中，当数据正式提交到后台要校验 Token 并删除 Token。其余的几种有兴趣的可以再查一下资料了解一下。

### 说说Redis有哪些特性，哪些地方容易出现问题？

Redis是基于内存的高性能键值对数据库，并且支持主从模式（读写分离）；Redis是单线程的，通过队列技术进行串行访问，消除传统数据库串行控制的开销；支持丰富的数据类型，支持事务，操作都是原子性（对数据的更改要么全部执行，要不全部不执行），支持设置数据过期时间，有自己的回收策略。以上是redis的一些特性举例。Redis在如下一些地方容易出现问题：首先，redis存储在内存，断电易失，大部分业务场景需要涉及到增量和全量更新，容易出现数据丢失的问题；redis是key-value管理数据，当key很多，有一些类似的key等情况时，容易出现更新混乱（代码层面），再就是并发更新同一个key；缓存击穿，请求redis不存在的数据，压力转移到[关系型数据库](https://cloud.tencent.com/product/cdb-overview?from=10680)，导致关系型数据库异常，应对缓存击穿防止策略有互斥锁、异步更新、拦截机制；缓存雪崩，因redis

失效策略配置问题，同一时间缓存大面积失效，未更新数据同步到redis之前，请求压力堆积到关系型数据库，导致数据库异常，防范策略有失效策略多检查，随机值或通过规则防止同一时间集体失效，使用互斥锁（降低性能），双缓存（双主或主从）。结合实际的业务和系统设计也会有一些需要多关注的地方。

### 数据库锁有哪些类型，什么情况下需要这些锁？

数据库使用到锁，是为了保证数据的一致性。拿mysql举例，用到三种类型（级别）锁定机制：表级锁定，行级锁定和页级锁定；细分还有共享锁，排它锁，意向锁等。一般跟进实际业务场景影响数据范围，来选择使用哪种级别的锁定机制，比如，只做单条数据的更新，就建议使用行级锁。行级锁下面共享锁适用于：用来确认某行记录是否存在，并确保没有人对这个记录进行UPDATE或者DELETE操作，如果当前事务也需要对该记录进行更新操作，则很有可能造成死锁。排他锁适用于：锁定行记录后需要进行更新操作的应用。

### 数据库索引有哪些优点和缺点？

先说优点：唯一索引可以保证每行数据的唯一性，其次可以提升数据查询速度（单表，表关联，分组排序）缺点：每次新增数据创建索引要耗费时间，降低了写数据的性能；索引需要占用物理空间；创建修改删除操作，索引也需要动态维护，拉低性能。



### 请设计一个资产管理系统，简述功能清单和逻辑，还有技术选型。

这道题综合考量个人软件设计能力，我们拆成两个步骤来。第一步，先进行需求分析，然后进行功能设计，给出功能清单；第二步，技术选型系统设计。

，前端后端数据库服务器等。

先看功能清单：

1， 登录，用户权限管理

2， 设备列表，设备详情

3， 资产设备登记/启用/修改信息

4， 资产设备借出/归还

5， 资产设备报修/报失

6， 资产盘点记录

7， 用户操作日志记录

按照功能清单进一步分析：登录是接公司内部统一登录还是自己做一套用户管理模块（需要按照实际情况调研），需要有完善的资产设备的状态机流转流程（草稿、未占用、占用中、已报修、已报失、等）

接下来进行技术选型和系统设计：

因为这个资产管理系统会有许多关联查询的情况，其次对于资产管理，数据完整性很重要，所以我们选取关系型数据库mysql。对于资产管理系统并不会出现大并发的情况，而且数据量也不会特别大，mysql单表在百万级性能都还ok。前端因为我对vue之类的框架不太熟练，然后资产管理系统除了在B端用，最好也可以适配C端浏览器，Bootstrap是个不错的选择。后端就用python的flask了，轻量级，生态也比较全面（其实我就会flask，diango我不会，哈哈），用户管理登录这块，按照传统来讲应该是要接统一登录，如果自己写，身份鉴权就需要用到redis更合适一些。技术选型就这些，最后就是系统设计了。首先数据表设计，资产详情表、用户角色表、用户信息表、资产盘点信息表、用户操作记录表。资产详情表给资产类型，名称等字段增加索引（5个以内），用户操作记录表按照月份取模分表（这个其实没太大必要）。另外，数据库表设计要注意命名规范，表必须要有主键。接着进行接口设计，按照功能清单逐一实现，需要注意接口可扩展性，后面可能会更新版本。

至于最后服务部署，就uWSGI+Nginx+Flask在Linux下的部署吧，代码管理和发布用git和Jenkins工具。系统设计肯定不是这么简单就完事了的，这里只能讲个大概，很多地方都需要进一步的扩展实现，大家可以自己再丰富或修改一下，哈哈。





 **如果你发现一个bug，如何跟开发去沟通推进这个bug的解决， **

1.跟开发确认BUG
（1）通过测试管理工具直接指派，发消息提醒
（2）当面提醒、沟通
2.向测试组长、项目经理反馈遗留BUG的风险
3.编写测试报告，描述遗留BUG的严重程度、评估风险、提出推动BUG解决的方案
4.发邮件通知各方领导BUG的状态，附测试报告（用于明确责任、避免背锅）





 **开发改了 bug 之后你怎么去做回归，回归的步骤 **


首先看看引起bug 的用例是否正常,是否正常修复；

相关功能重运行，看是否引入其他 bug

 

 

 **如果开发说这个bug不改，你怎么处理？**

- 和开发沟通不修复 bug 可能造成的影响；

- 通过项目管理工具记录和开发沟通过程

- 向测试组长、项目经理反馈遗留BUG的风险

 

 

 **职业规划**

熟悉公司的业务，对公司的项目能够做到游刃有余，同时自我提升，加强自动化、性能方面的学习，明确自己是走技术路线还是管理路线。



 **接口自动化跑100多个接口大概要跑多久？ **

接口的响应速度 1s 一个按正常已经足够了，但是根据项目的实际情况不同，会有区别，有的公司业务中，接口需要处理的数据太多，或者因为后端没有优化，导致响应速度慢，但是最后都不会超过3s , 一个接口3s 还没响应，会严重影响用户体验。

 

 

 **如果excel里面的测试数据我不想全部跑，只跑一部分怎么弄？ **



可以通过表单名称选择表单运行；可以通过获取数据后通过切片运行；可以通过 pytest -maxfail 控制最大失败数；可以通过做标记，然后筛选用例执行。





 **jenkins 任务想要多台设备来完成，怎么做 **

6、一个测试任务在jenkins上想要多台设备一起来完成，怎么做

主从模式



 58-招聘事业部-一面：
1.简历中每个项目的整体架构？
2.tomcat是做什么的？这种web服务器，应用服务器等中间件了解多少？
3.nginx是做什么的？apache是做什么的？
4.数据库当中的索引了解吗？什么情况下用索引？什么情况下不能用索引？
5.多表连接查询时，会对性能有什么样的影响？
6.在app从点击一个icon，到页面渲染完成为止，都发生了什么？（参考web输入一个url到页面展示完成发生了什么的问题的套路）
7.接口的返回都有什么格式的？返回的数据为json格式的和xml格式的在页面渲染时有什么影响？
8.影响H5页面性能的因素都有什么？
9.app性能相关的了解过吗？比如页面响应时间，白屛时间啥的？
10.app性能测试（cpu，耗电量，内存占比，内存泄漏等）用什么工具做？
11.压测做过吗？
12.web自动化除了selenium以外还有哪些可以做？为什么选择selenium？
13.你的电商项目的日活量大概多少?
14.你在搭建你的接口自动化框架时，都遇到过什么坑？你是怎么解决的？
京东物流-一面：
1.后端的一些组件，为什么用这些组件，用别的不行吗？为什么用rabbitMQ,消息队列不用不行吗？为什么要在eureka上注册，让eureka去分发给相应的服务？（考察数据流）
2.服务端性能监控用的什么？
3.你们的压测是谁驱动你们做？还是说自发的？监控哪些指标？（压测这一块还得再看一看）
4.你的自动化框架同组的成员用起来的时候，有没有说哪里不好用，有哪些痛点？
5.docker和普通的虚拟机有什么不同？
6.docker常用命令？
7.git 合并分支？（git 命令需要全部复习一遍）

 

 